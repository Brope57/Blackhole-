local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

local LocalPlayer = Players.LocalPlayer
local angle = 1
local radius = 10
local maxRadius = 300
local blackHoleActive = false
local blackHoleRange = 1000000000

local function setupBlackHoleAttachment()
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local Folder = Instance.new("Folder", Workspace)
    local Part = Instance.new("Part", Folder)
    local Attachment1 = Instance.new("Attachment", Part)
    Part.Anchored = true
    Part.CanCollide = false
    Part.Transparency = 1

    return humanoidRootPart, Attachment1
end

local humanoidRootPart, Attachment1 = setupBlackHoleAttachment()

local function ForcePart(part)
    if part:IsA("Part") and not part.Anchored and not part.Parent:FindFirstChild("Humanoid") and not part.Parent:FindFirstChild("Head") and part.Name ~= "Handle" then
        if (part.Position - humanoidRootPart.Position).Magnitude <= blackHoleRange then
            for _, x in ipairs(part:GetChildren()) do
                if x:IsA("BodyMover") or x:IsA("Attachment") or x:IsA("AlignPosition") or x:IsA("Torque") then
                    x:Destroy()
                end
            end

            local Torque = Instance.new("Torque", part)
            Torque.Torque = Vector3.new(1000000, 1000000, 1000000)

            local AlignPosition = Instance.new("AlignPosition", part)
            local Attachment2 = Instance.new("Attachment", part)

            Torque.Attachment0 = Attachment2
            AlignPosition.Attachment0 = Attachment2
            AlignPosition.Attachment1 = Attachment1
            AlignPosition.MaxForce = math.huge
            AlignPosition.MaxVelocity = math.huge
            AlignPosition.Responsiveness = 500

            part.CanCollide = false
        end
    end
end

local function toggleBlackHole()
    blackHoleActive = not blackHoleActive
    if blackHoleActive then
        for _, part in ipairs(Workspace:GetDescendants()) do
            ForcePart(part)
        end

        Workspace.DescendantAdded:Connect(function(part)
            if blackHoleActive then
                ForcePart(part)
            end
        end)

        spawn(function()
            while blackHoleActive and RunService.RenderStepped:Wait() do
                angle = angle + math.rad(2)

                local offsetX = math.cos(angle) * radius
                local offsetZ = math.sin(angle) * radius

                Attachment1.WorldCFrame = humanoidRootPart.CFrame * CFrame.new(offsetX, 0, offsetZ)
            end
        end)
    else
        Attachment1.WorldCFrame = CFrame.new(0, -1000, 0)
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    humanoidRootPart, Attachment1 = setupBlackHoleAttachment()
    if blackHoleActive then
        toggleBlackHole()
    end
end)

local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/miroeramaa/TurtleLib/main/TurtleUiLib.lua"))()
local window = library:Window("Projeto LKB")

window:Slider("Radius Blackhole", 1, maxRadius, 10, function(Value)
    radius = Value
end)

window:Toggle("Blackhole", false, function(Value)
    if Value then
        toggleBlackHole()
    else
        blackHoleActive = false
    end
end)

toggleBlackHole() -- Menyalakan black hole pada saat pertama kali dijalankan
